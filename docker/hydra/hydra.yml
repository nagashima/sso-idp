serve:
  public:
    port: 4444
    host: 0.0.0.0
  admin:
    port: 4445
    host: 0.0.0.0
  cookies:
    same_site_mode: None  # Cross-Domain対応のため None に変更
    same_site_legacy_workaround: true
    secure: true  # HTTPS環境では必須、SameSite=None時は必須

# dev: true を削除してセッション固定化

dsn: mysql://rails:rails_password@db:3306/hydra_development?parseTime=true

# 以下のURL設定はdocker-compose.ymlの環境変数（URLS_*）で上書きされます
# docker-compose.ymlで HYDRA_PUBLIC_URL から動的に生成される設定が優先されます
urls:
  self:
    issuer: https://localhost:4443
  login: https://localhost:4443/sso/sign_in
  consent: https://localhost:4443/sso/consent
  logout: https://localhost:4443/sso/logout
  post_logout_redirect: https://localhost:4443/

secrets:
  system:
    - hydra-fixed-development-secret-for-session-persistence-do-not-use-in-production

oidc:
  subject_identifiers:
    supported_types:
      - public
    pairwise:
      salt: hydra-salt-change-this-in-production

oauth2:
  expose_internal_errors: true

ttl:
  login_consent_request: $TTL_LOGIN_CONSENT_REQUEST  # .envで管理（デフォルト: 30m）